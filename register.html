<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Register</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <!-- Custom styles -->
    <link rel="stylesheet" href="../public/css/login.css">


    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Font Awesome 5 -->
    <link href="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous">
    </link>
    <!-- Bootstrap Switch Button -->
    <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap-switch-button@1.1.0/css/bootstrap-switch-button.min.css"
        rel="stylesheet">
    <style>
        /* Custom CSS for adjusting card body height and width */
        .card-body {
            height: 300px;
            /* Adjust the height as needed */
            width: 100%;
            /* Adjust the width as needed */
        }
    </style>
</head>

<body>
    <div class="container-fluid vh-100" style="border: 2px solid black; background: #F6F9FF;">
        <div class="row">
            <div class="col-md-12 col-sm-12">

                <div class="container" style="width:700px; background: #FFFFFF; margin-top:250px;;">
                    <div class="row">
                        <div class="col-md-12">
                            <h2 style="text-align: center; color:#2A3976">EMPMS-Admin</h2>
                            <form action="/register" onsubmit="return validateForm()" method="post">
                                <div class="heading" style="text-align: center;">
                                    <h3 style="color: #184275;">Create your Account</h3>
                                    <p>Enter your details to create your account.</p>

                                </div>
                                <div class="form-container">
                                    <label for="uname">Username</label>
                                    <input type="text" placeholder="Enter Username" name="username" required>

                                    <label for="email">E-mail</label>
                                    <input type="text" placeholder="Enter your email" name="email" required>


                                    <label for="psw">Password</label>
                                    <input type="password" placeholder="Enter Password" name="password" required
                                        maxlength="8">

                                    <label for="psw">Confirm Your Password</label>
                                    <input type="password" placeholder="Enter Password" name="confirm_password" required
                                        maxlength="8">


                                    <button type="submit">Submit</button>
                                    <b2>Already have an Account? <a href="/login " target=" ">Please Login... </a></b2>


                                </div>
                            </form>
                        </div>


                    </div>
                </div>

            </div>
        </div>
    </div>
    <!-- <script>
                function validateform(){  
                    var name=document.myform.name.value;  
                    var password=document.myform.password.value;  
  
                if (name==null || name==""){  
                        alert("Name can't be blank");  
                        return false;  
                        }else if(password.length<8){  
                        alert("Password must be at least 8 characters long.");  
                        return false;  
                    }  
                }
            </script> -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
    <script>
        document.querySelector('form').addEventListener('submit', async (event) => {
            event.preventDefault();
            const username = document.querySelector('input[name="username"]').value;
            const email = document.querySelector('input[name="email"]').value;
            const password = document.querySelector('input[name="password"]').value;
            const confirm_password = document.querySelector('input[name="confirm_password"]').value;
            const response = await fetch('/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ username, email, password, confirm_password })
            });
            if (response.ok) {
                // Display alert message for successful registration
                alert('Your account is created successfully. Login again..');
                // Optionally, you can redirect the user to the login page
                window.location.href = '/login';
            } else {
                // Handle other errors (optional)
                alert('An error occurred. Please try again later.');
            }
        });
    </script>



</body>


</html>